"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[781],{5722:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(3645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".admin_table[data-v-7cefd63e]::-webkit-scrollbar{display:block;height:.5rem}.admin_table[data-v-7cefd63e]::-webkit-scrollbar-thumb{background-color:gray;border-radius:10px}.admin_table[data-v-7cefd63e]:hover::-webkit-scrollbar-thumb{background-color:#5934ff}.admin_table[data-v-7cefd63e]::-webkit-scrollbar-track{background-color:#e5e7eb;border-radius:10px}",""]);const a=o},781:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var n=r(7757),o=r.n(n),a=r(9200),u=r(6252),l=r(2262),s=r(2119),i=r(8637),c=r(4982),p=r(1080),d=r(442);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],u=!0,l=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r,n,o,a,u){try{var l=e[a](u),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}var v={class:"flex justify-center gap-2"},m={class:"p-2 w-20"},_=(0,a._)("button",{class:"bg-yellow-300"},"查看詳情",-1);const b={setup:function(e){return(t=o().mark((function e(){var t,r,n,y,g,b,w,h,k,x,P,S,j,O,C;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=(0,i.oR)(),b=g.state,w=g.dispatch,h=g.getters,t=(0,a.mv)((function(){return w("productHandler/getAllOrders")})),r=f(t,2),n=r[0],y=r[1],e.next=5,n;case 5:return y(),k=(0,l.qj)({status:(0,u.Fl)((function(){return h["productHandler/backendStatus"]})),delivery_method:(0,u.Fl)((function(){return b.productHandler.delivery_options})),pay_method:(0,u.Fl)((function(){return b.productHandler.pay_method_options}))}),x=(0,l.iH)(0),P=(0,u.Fl)((function(){return h["productHandler/getAllOrdersByStatus"](x.value)})),S=(0,u.Fl)((function(){return function(e){return h["productHandler/getAllOrdersByStatus"](e)&&h["productHandler/getAllOrdersByStatus"](e).length}})),j=["收件人","收件人電話","狀態","付款方式","總金額","運送方式","訂單成立時間"],O=["name","phone","status","pay_method","total_price","delivery_method","order_time"],C=(0,s.yj)(),e.abrupt("return",(function(e,t){var r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p.Z,{title:"訂單一覽"}),(0,a.Wm)(d.Z,{class:"mb-4","option-key":"value",options:(0,a.SU)(k).status,length:Object.values((0,a.SU)(k).status).length,modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.value=e})},{default:(0,a.w5)((function(e){var t=e.item;return[(0,a._)("div",v,[(0,a._)("div",null,(0,a.zw)(t.label),1),(0,a._)("div",null,(0,a.zw)((0,a.SU)(S)(t.value)),1)])]})),_:1},8,["options","length","modelValue"]),(0,a.Wm)(c.Z,{column_heads:j,datas:(0,a.SU)(P),keys:O},{column:(0,a.w5)((function(e){var t=e.data,r=e.dataKey;return[["status","delivery_method","pay_method"].includes(r)?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,a.zw)((0,a.SU)(k)[r][t].label),1)],64)):(0,a.kq)("",!0)]})),action:(0,a.w5)((function(e){var t=e.data;return[(0,a._)("td",m,[(0,a.Wm)(r,{to:"".concat((0,a.SU)(C).path,"/").concat(t.id)},{default:(0,a.w5)((function(){return[_]})),_:2},1032,["to"])])]})),_:1},8,["datas"])],64)}));case 14:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(e){g(a,n,o,u,l,"next",e)}function l(e){g(a,n,o,u,l,"throw",e)}u(void 0)}))})();var t}},w=b},4982:(e,t,r)=>{r.d(t,{Z:()=>$});var n=r(9200),o=function(e){return(0,n.dD)("data-v-7cefd63e"),e=e(),(0,n.Cn)(),e},a={class:"w-full"},u={class:"admin_table overflow-x-auto"},l={class:"text-center table-auto bg-white border-gray-900 break-words w-full whitespace-nowrap"},s={class:"border-b border-gray-100"},i={class:"divide-x divide-gray-100"},c=o((function(){return(0,n._)("th",{class:"py-2 px-3 w-6"},"#",-1)})),p=o((function(){return(0,n._)("th",{class:"py-2 px-3"},"操作",-1)})),d={class:"divide-y divide-gray-200"},f={class:"py-2"},y={class:"w-20"},g={class:"flex justify-center px-1"},v={class:"text-red-500"},m=["value"],_=[o((function(){return(0,n._)("option",{value:"10"},"10",-1)})),o((function(){return(0,n._)("option",{value:"20"},"20",-1)})),o((function(){return(0,n._)("option",{value:"50"},"50",-1)}))];var b=r(6252),w=r(2262),h={class:"border-t border-gray-100 bg-white text-center"},k={class:"grid grid-cols-6 gap-4"},x={class:"py-4 pl-2 col-span-3"},P={class:"grid gap-2 grid-flow-col items-center justify-center"},S={class:"py-4 col-span-2 flex items-center justify-center"},j=(0,n.Uk)(" 每頁顯示 "),O=(0,n.Uk)(" 筆 "),C={class:"py-4 flex items-center justify-center"};const D={components:{SvgRenderVue:r(7306).Z},props:{total_pages:{type:Number,default:0},current_page:{type:Number,default:0},toFirstPage:{type:Function,default:function(){}},toPreviousPage:{type:Function,default:function(){}},toLastPage:{type:Function,default:function(){}},toNextPage:{type:Function,default:function(){}}},setup:function(e){return{props:e}}};var F=r(3744);const W=(0,F.Z)(D,[["render",function(e,t,r,o,a,u){var l=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",k,[(0,n._)("div",x,[(0,n._)("div",P,[(0,n.Wm)(l,{type:"arrows_left",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":0!==o.props.current_page,"hover:cursor-not-allowed  text-gray-500":0===o.props.current_page}),onClick:o.props.toFirstPage},null,8,["class","onClick"]),(0,n.Wm)(l,{type:"arrow_left",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":0!==o.props.current_page,"hover:cursor-not-allowed text-gray-500":0===o.props.current_page}),onClick:o.props.toPreviousPage},null,8,["class","onClick"]),(0,n.WI)(e.$slots,"page_control"),(0,n.Wm)(l,{type:"arrow_right",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":o.props.current_page!==o.props.total_pages-1,"hover:cursor-not-allowed  text-gray-500":o.props.current_page===o.props.total_pages-1}),onClick:o.props.toNextPage},null,8,["class","onClick"]),(0,n.Wm)(l,{type:"arrows_right",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":o.props.current_page!==o.props.total_pages-1,"hover:cursor-not-allowed  text-gray-500":o.props.current_page===o.props.total_pages-1}),onClick:o.props.toLastPage},null,8,["class","onClick"])])]),(0,n._)("div",S,[j,(0,n.WI)(e.$slots,"per_control"),O]),(0,n._)("div",C,"共"+(0,n.zw)(o.props.total_pages)+"頁",1)])])}]]);var Z=r(1067),H=r(3400);const I={components:{ImagePreview:H.Z},props:{data_type:{type:String,default:""},data:{type:[String,Number],default:""}},setup:function(e){var t=(0,w.BK)(e),r=t.data;switch(t.data_type.value){case"boolean":return function(){return(0,b.h)((0,b.up)("svg-render-vue"),{type:r.value?"circle_check":"x_mark",class:r.value?"text-green-500":"text-red-500"})};case"image":return function(){return r.value?(0,b.h)((0,b.up)("image-preview"),{src:r.value}):(0,b.h)("span",r.value||"--")};default:return function(){return(0,b.h)("span",r.value||"--")}}}};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}const A={props:{keys:{type:Array,default:function(){return[]}},header_columns:{type:Array,default:function(){return[]}}},setup:function(e){var t=(0,w.BK)(e);return{keys:t.keys,header_columns:t.header_columns,TITLE:Z.R}}},T=(0,F.Z)(A,[["render",function(e,t,r,o,a,u){return o.header_columns.length?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(o.header_columns,(function(e){return(0,n.wg)(),(0,n.iD)("th",{key:e,class:"py-2 px-1"},(0,n.zw)(e),1)})),128)):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(o.keys,(function(e){return(0,n.wg)(),(0,n.iD)("th",{key:e,class:"py-2 px-1"},(0,n.zw)("object"===K(e)?o.TITLE[e.name]:o.TITLE[e]),1)})),128))}]]);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}const z={components:{TableFootVue:W,ImagePreview:H.Z,TableColumn:I,TableHeader:T},props:{column_heads:{type:Array,default:function(){return[]}},datas:{type:Object,default:function(){return{}}},keys:{type:Array,default:function(){return[]}},update_route_name:{type:String,default:""}},setup:function(e){var t=e.column_heads,r=e.keys,n=e.update_route_name,o=(0,b.Fl)((function(){return e.datas})),a=(0,b.Fl)((function(){return Object.prototype.toString.call(o.value)})),u=(0,b.Fl)((function(){return"[object Object]"===a.value?Object.values(o.value):o.value})),l=(0,w.iH)(0),s=(0,w.iH)(10),i=(0,b.Fl)((function(){return Math.ceil(u.value.length/s.value)})),c=(0,b.Fl)((function(){var e=0+l.value*s.value,t=e+s.value;return u.value.slice(e,t)}));(0,b.YP)(s,(function(){l.value=l.value>=i.value?i.value-1:l.value}));var p=(0,b.Fl)((function(){var e=Math.floor(60/r.value.length);return" max-w-[".concat(e,"rem]")}));return{TITLE:Z.R,header_columns:t,keys:r,datas:c,current_page:l,total_pages:i,per:s,toFirstPage:function(){l.value=0},toPreviousPage:function(){l.value=0===l.value?0:l.value-1},toLastPage:function(){l.value=i.value-1},toNextPage:function(){l.value=l.value===i.value-1?l.value:l.value+1},update_route_name:n,td_max_width:p,getKey:function(e){return"object"===V(e)?e.name:e},getDataType:function(e){return e.type||"string"}}}};var U=r(3379),N=r.n(U),L=r(5722),Y={insert:"head",singleton:!1};N()(L.Z,Y);L.Z.locals;const $=(0,F.Z)(z,[["render",function(e,t,r,o,b,w){var h=(0,n.up)("TableHeader"),k=(0,n.up)("TableColumn"),x=(0,n.up)("svg-render-vue"),P=(0,n.up)("router-link"),S=(0,n.up)("table-foot-vue");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",u,[(0,n._)("table",l,[(0,n._)("thead",s,[(0,n._)("tr",i,[c,(0,n.Wm)(h,{keys:o.keys,header_columns:o.header_columns},null,8,["keys","header_columns"]),p])]),(0,n._)("tbody",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.datas,(function(t,r){return(0,n.wg)(),(0,n.iD)("tr",{key:t.id,class:(0,n.C_)(["divide-x divide-gray-200",{"bg-gray-100":t.id%2==1}])},[(0,n._)("td",f,(0,n.zw)(r+1),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.keys,(function(r){return(0,n.wg)(),(0,n.iD)("td",{key:o.getKey(r),class:"\\ py-2 px-1 overflow-hidden text-ellipsis whitespace-nowrap max-w-[15rem]"},[(0,n.WI)(e.$slots,"column",{data:t[o.getKey(r)],dataKey:r},(function(){return[(0,n.Wm)(k,{data:t[o.getKey(r)],data_type:o.getDataType(r)},null,8,["data","data_type"])]}),!0)])})),128)),(0,n.WI)(e.$slots,"other_tbody",{data:t},void 0,!0),(0,n.WI)(e.$slots,"action",{data:t},(function(){return[(0,n._)("td",y,[(0,n._)("div",g,[o.update_route_name?((0,n.wg)(),(0,n.j4)(P,{key:0,to:{name:o.update_route_name,params:{info:JSON.stringify(t)}},class:"mr-1 md:mr-3 text-blue-500"},{default:(0,n.w5)((function(){return[(0,n.Wm)(x,{type:"edit"})]})),_:2},1032,["to"])):(0,n.kq)("",!0),(0,n._)("div",v,[(0,n.Wm)(x,{type:"delete"})])])])]}),!0)],2)})),128))])])]),(0,n.Wm)(S,{total_pages:o.total_pages,current_page:o.current_page,toFirstPage:o.toFirstPage,toLastPage:o.toLastPage,toNextPage:o.toNextPage,toPreviousPage:o.toPreviousPage},{page_control:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.current_page=e}),class:"appearance-none px-3 py-1 hover:cursor-pointer"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.total_pages,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e,value:e-1},(0,n.zw)(e),9,m)})),128))],512),[[n.bM,o.current_page]])]})),per_control:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.per=e})},_,512),[[n.bM,o.per]])]})),_:1},8,["total_pages","current_page","toFirstPage","toLastPage","toNextPage","toPreviousPage"])])}],["__scopeId","data-v-7cefd63e"]])},3400:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(9200),o={class:"w-[70vw] lg:w-[80vw] h-[70vh] bg-white rounded-lg p-3 relative"},a={class:"h-full flex items-center justify-center"},u=["src"];var l=r(2262),s=r(4825),i=r(8245),c=r(6252);const p={components:{InMask:i.Z,PreviewButton:s.Z},props:{src:{type:String||Array,default:""}},setup:function(e){var t=(0,c.Fl)((function(){return e.src})),r=(0,l.iH)(!1);return{src:t,toggle:r,toggleShowPreview:function(){r.value=!r.value}}}};const d=(0,r(3744).Z)(p,[["render",function(e,t,r,l,s,i){var c=(0,n.up)("preview-button"),p=(0,n.up)("svg-render-vue"),d=(0,n.up)("InMask");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{onClick:l.toggleShowPreview},null,8,["onClick"]),(0,n.wy)((0,n.Wm)(d,{class:"!fixed"},{default:(0,n.w5)((function(){return[(0,n._)("div",o,[(0,n._)("div",{class:"p-2 m-3 hover:cursor-pointer absolute top-0 left-0",onClick:t[0]||(t[0]=function(){return l.toggleShowPreview&&l.toggleShowPreview.apply(l,arguments)})},[(0,n.Wm)(p,{type:"return",class:"text-blue-500"})]),(0,n._)("div",a,[(0,n._)("img",{src:l.src,class:"max-w-[300px] md:max-w-[400px] lg:max-w-[500px] max-h-[90%]"},null,8,u)])])]})),_:1},512),[[n.F8,l.toggle]])],64)}]])},442:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(9200),o={class:"flex flex-wrap flex-1"},a=["onClick"];var u=r(6252),l=r(2262);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p={props:{length:{type:Number,default:0},options:{type:[Array,Object],default:function(){return[]}},optionKey:{type:String,default:"id"},optionValueKey:{type:String,default:"value"},itemClass:{type:String,default:"py-4"},itemStyle:{type:Object,default:function(){return null}}},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,n=t.attrs,o=(0,u.Fl)({get:function(){return n.modelValue},set:function(e){return r("update:modelValue",e)}});return i(i({},(0,l.BK)(e)),{},{modelValue:o})}};const d=(0,r(3744).Z)(p,[["render",function(e,t,r,u,l,s){return(0,n.wg)(),(0,n.iD)("ul",o,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.options,(function(t){return(0,n.wg)(),(0,n.iD)("li",{key:t[r.optionKey],class:(0,n.C_)(["bg-white text-center border-b-2 hover:cursor-pointer hover:text-blue-500 hover:font-bold duration-500 transition-[border]",u.modelValue===t[r.optionValueKey]?"border-blue-500 text-blue-500 font-bold":"border-slate-300",r.itemClass]),style:(0,n.j5)(r.itemStyle||{width:"".concat(1/(r.length||r.options.length)*100,"%")}),onClick:function(e){return u.modelValue=t[r.optionValueKey]}},[(0,n.WI)(e.$slots,"default",{item:t})],14,a)})),128))])}]])},4825:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(9200),o={class:"bg-slate-200 hover:bg-slate-300"},a=(0,n._)("span",null,"預覽",-1);const u={};const l=(0,r(3744).Z)(u,[["render",function(e,t,r,u,l,s){var i=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("button",o,[(0,n.Wm)(i,{type:"preview",class:"mr-1"}),a])}]])},1080:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(9200),o={class:"flex items-center justify-between"},a={class:"grid grid-flow-col gap-4"};var u=r(6252),l=r(8637);const s={props:{title:{type:String,default:"管理"},return_to_route_name:{type:String,default:""},py:{type:String,default:""}},setup:function(e){var t=(0,l.oR)().commit,r=e.return_to_route_name,n=e.py;return{title:(0,u.Fl)((function(){return e.title})),return_to_route_name:r,py:n,commit:t}}};const i=(0,r(3744).Z)(s,[["render",function(e,t,r,u,l,s){var i=(0,n.up)("svg-render-vue"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[u.return_to_route_name?((0,n.wg)(),(0,n.j4)(c,{key:0,to:{name:u.return_to_route_name},class:"text-blue-500 px-2",onClick:t[0]||(t[0]=function(e){return u.commit("clearStatus")})},{default:(0,n.w5)((function(){return[(0,n.Wm)(i,{type:"return",size:"lg"})]})),_:1},8,["to"])):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"return_router"),(0,n._)("div",{class:(0,n.C_)(["flex-auto px-2 py-4 font-bold text-2xl",u.py])},(0,n.zw)(u.title),3),(0,n._)("div",a,[(0,n.WI)(e.$slots,"button")])])}]])}}]);