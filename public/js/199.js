"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[199],{3199:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(9200),u={class:"bg-white px-3 py-5"},a={class:"flex flex-col md:flex-row"},o={class:"w-full md:w-[45%]"},c=["src","alt"],i={class:"flex-1 px-2 flex flex-col justify-between"},l={class:"text-4xl pt-3"},s=(0,r._)("hr",{class:"block my-3"},null,-1),d={class:"text-2xl text-orange-500"},p={class:"mt-10"},v={class:"flex"},f=(0,r._)("span",null,"加入購物車",-1),m={class:"border mt-8 rounded-md border-gray-300"},b=(0,r._)("div",{class:"py-2 text-center bg-gray-300 rounded-md font-bold shadow-sm shadow-black"}," 商品描述 ",-1),g=["innerHTML"];var y=n(7757),h=n.n(y),w=n(6252),x=n(2262),_=n(2119),P=n(8637);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,u,a,o){try{var c=e[a](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,u)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){k(a,r,u,o,c,"next",e)}function c(e){k(a,r,u,o,c,"throw",e)}o(void 0)}))}}const I={components:{CounterObject:n(6432).Z},setup:function(){return H(h().mark((function e(){var t,n,r,u,a,o,c,i,l,s,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,_.yj)(),n=(0,_.tv)(),r=(0,P.oR)(),u=r.dispatch,a=r.getters,o=(0,w.Fl)((function(){return t.params.id})),c=(0,x.iH)(),e.next=7,u("productHandler/getProductById",{product_id:o.value});case 7:return c.value=e.sent,c.value||n.replace(t.path.substring(0,t.path.lastIndexOf("/"))),i=(0,w.Fl)((function(){return a["productHandler/getFormattedPrice"](c.value.price)})),(0,w.YP)(o,function(){var e=H(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,u("productHandler/getProductById",{product_id:o.value});case 3:c.value=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,x.iH)(1),s=function(e){return l.value=e},d=function(){var e=H(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("productHandler/addProductToCart",{amount:l.value,product_id:c.value.id});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",j(j({},(0,x.BK)(c.value)),{},{formattedPrice:i,amountChange:s,handleAddProductToCart:d}));case 15:case"end":return e.stop()}}),e)})))()}};const T=(0,n(3744).Z)(I,[["render",function(e,t,n,y,h,w){var x=(0,r.up)("counter-object"),_=(0,r.up)("svg-render-vue");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",a,[(0,r._)("div",o,[(0,r._)("img",{src:e.image,alt:e.name},null,8,c)]),(0,r._)("div",i,[(0,r._)("div",null,[(0,r._)("div",l,(0,r.zw)(e.name),1),s,(0,r._)("div",d," NT$"+(0,r.zw)(y.formattedPrice),1),(0,r._)("div",p,(0,r.zw)(e.introduction),1)]),(0,r._)("div",v,[(0,r.Wm)(x,{onValueChange:y.amountChange},null,8,["onValueChange"]),(0,r._)("button",{class:"bg-orange-300 border border-pink-700 ml-5 text-pink-900 hover:bg-orange-500",onClick:t[0]||(t[0]=function(){return y.handleAddProductToCart&&y.handleAddProductToCart.apply(y,arguments)})},[(0,r.Wm)(_,{type:"cart",class:"mr-2"}),f])])])]),(0,r._)("div",m,[b,(0,r._)("div",{class:"p-4",innerHTML:e.description},null,8,g)])])}]])},6432:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9200),u={class:"flex items-center"};var a=n(2262),o=n(6252);const c={props:{init_value:{type:Number,default:1}},emits:{valueChange:{type:Number,default:0},decreaseLowerThan0:{type:Number}},setup:function(e,t){var n=t.emit,r=(0,a.iH)();r.value=e.init_value;var u=(0,o.Fl)((function(){return r.value.toString().length})),c=function(){return n("valueChange",r.value)},i=(0,o.Fl)((function(){return(u.value<3?3:u.value)+"rem"}));return{amount:r,increment:function(){r.value++,c()},decrement:function(){1===r.value?n("decreaseLowerThan0"):(r.value--,c())},getInputWidth:i,amountInput:function(){var e=document.querySelector("input[id=amount]");e.value=e.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"),e.value||(e.value=1)},emitAmount:c}}};const i=(0,n(3744).Z)(c,[["render",function(e,t,n,a,o,c){var i=(0,r.up)("svg-render-vue");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("button",{onClick:t[0]||(t[0]=function(){return a.decrement&&a.decrement.apply(a,arguments)}),class:"border border-gray-200 px-2 py-1 hover:bg-gray-200"},[(0,r.Wm)(i,{type:"minus"})]),(0,r.wy)((0,r._)("input",{type:"text",id:"amount","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.amount=e}),class:"px-1 py-1 text-center",style:(0,r.j5)({width:a.getInputWidth}),onInput:t[2]||(t[2]=function(){return a.amountInput&&a.amountInput.apply(a,arguments)}),onChange:t[3]||(t[3]=function(){return a.emitAmount&&a.emitAmount.apply(a,arguments)})},null,36),[[r.nr,a.amount]]),(0,r._)("button",{onClick:t[4]||(t[4]=function(){return a.increment&&a.increment.apply(a,arguments)}),class:"border border-gray-200 px-2 py-1 hover:bg-gray-200"},[(0,r.Wm)(i,{type:"plus"})])])}]])}}]);