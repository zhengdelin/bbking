"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[679],{9679:(t,r,e)=>{e.r(r),e.d(r,{default:()=>x});var n=e(9200),u={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-center bg-white p-3"};var o=e(7757),c=e.n(o),a=e(6252),i=e(2262),s=e(2119),p=e(8637),f={class:"flex flex-col justify-between"},l={class:""},d=["src","alt"],v={class:"text-center w-full font-bold"};const h={props:{product:{type:Object,default:function(){}}},setup:function(t){var r=(0,a.Fl)((function(){return t.product})),e=(0,s.yj)(),n=(0,a.Fl)((function(){return e.path})),u=(0,p.oR)().getters,o=(0,a.Fl)((function(){return u["productHandler/getFormattedPrice"](r.value.price)})),c=(0,a.Fl)((function(){return n.value+"/"+r.value.id}));return{product:r,path:n,formattedPrice:o,productPath:c}}};var g=e(3744);function m(t,r,e,n,u,o,c){try{var a=t[o](c),i=a.value}catch(t){return void e(t)}a.done?r(i):Promise.resolve(i).then(n,u)}function w(t){return function(){var r=this,e=arguments;return new Promise((function(n,u){var o=t.apply(r,e);function c(t){m(o,n,u,c,a,"next",t)}function a(t){m(o,n,u,c,a,"throw",t)}c(void 0)}))}}const y={components:{ProductListItem:(0,g.Z)(h,[["render",function(t,r,e,u,o,c){var a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",l,[(0,n.Wm)(a,{to:{path:u.productPath},class:"hover:brightness-[0.7] duration-300 flex justify-center"},{default:(0,n.w5)((function(){return[(0,n._)("img",{src:u.product.image,alt:u.product.name,width:"300",height:"300"},null,8,d)]})),_:1},8,["to"]),(0,n.Wm)(a,{to:{path:u.productPath},class:"px-2 mt-3 my-1 block hover:text-blue-800 font-bold"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,n.zw)(u.product.name),1)]})),_:1},8,["to"])]),(0,n._)("div",v," NT$"+(0,n.zw)(u.formattedPrice),1)])}]])},name:"ProductList",setup:function(){return w(c().mark((function t(){var r,e,n,u,o,f,l,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.iH)(!1),(0,a.bv)((function(){r.value=!0})),e=(0,s.tv)(),n=(0,s.yj)(),u=(0,p.oR)(),o=u.dispatch,f=(0,a.Fl)((function(){return n.params.category})),(0,s.ao)(function(){var t=w(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.params.category||l[r.params.category]){t.next=3;break}return t.next=3,d(r.params.category);case 3:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),(0,a.YP)(f,function(){var t=w(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||l[r]){t.next=3;break}return t.next=3,d(r);case 3:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),l=(0,i.qj)({}),t.next=11,o("productHandler/getProductsByCategory",{category:f.value}).then((function(t){t?l[f.value]=t:e.push({name:"all-categories"})}));case 11:return d=function(){var t=w(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("productHandler/getProductsByCategory",{category:r});case 2:l[r]=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),t.abrupt("return",{category:f,products:l,show:r});case 13:case"end":return t.stop()}}),t)})))()}},x=(0,g.Z)(y,[["render",function(t,r,e,o,c,a){var i=(0,n.up)("product-list-item");return(0,n.wg)(),(0,n.j4)(n.uT,{name:"fade-from-bottom-15px"},{default:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("div",null,[(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.products[o.category],(function(t){return(0,n.wg)(),(0,n.j4)(i,{key:t.id,product:t},null,8,["product"])})),128))])],512),[[n.F8,o.show]])]})),_:1})}]])}}]);