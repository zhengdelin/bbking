"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9285],{5722:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,".admin_table[data-v-7cefd63e]::-webkit-scrollbar{display:block;height:.5rem}.admin_table[data-v-7cefd63e]::-webkit-scrollbar-thumb{background-color:gray;border-radius:10px}.admin_table[data-v-7cefd63e]:hover::-webkit-scrollbar-thumb{background-color:#5934ff}.admin_table[data-v-7cefd63e]::-webkit-scrollbar-track{background-color:#e5e7eb;border-radius:10px}",""]);const o=a},9285:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var n=r(9200);var a=r(7757),o=r.n(a),u=r(6252),s=r(2262),l=r(8637),c=r(2792),i=r(4982),p=r(2119),d=r(1080),f=r(3400);function g(e,t,r,n,a,o,u){try{var s=e[o](u),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){g(o,n,a,u,s,"next",e)}function s(e){g(o,n,a,u,s,"throw",e)}u(void 0)}))}}const y={name:"AdminCategories",components:{AdminTableVue:i.Z,CreateButtonVue:c.Z,TitleItem:d.Z,ImagePreview:f.Z},setup:function(){return v(o().mark((function e(){var t,r,n,a,c,i,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.yj)(),r=(0,l.oR)(),n=r.dispatch,a=["name","eng_name","url","address","phone","email","business_hours","description",{name:"logo",type:"image"},{name:"isHeadquarter",type:"boolean"},{name:"status",type:"boolean"}],c=(0,s.iH)(),i=function(){var e=v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("globalHandler/getAllStoreInfos");case 2:c.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=7,i();case 7:return d=(0,u.Fl)((function(){return t.params.update_store_info})),(0,u.YP)(d,v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.value){e.next=3;break}return e.next=3,i();case 3:case"end":return e.stop()}}),e)})))),e.abrupt("return",{store_infos:c,keys:a});case 10:case"end":return e.stop()}}),e)})))()}};const _=(0,r(3744).Z)(y,[["render",function(e,t,r,a,o,u){var s=(0,n.up)("create-button-vue"),l=(0,n.up)("router-link"),c=(0,n.up)("title-item"),i=(0,n.up)("admin-table-vue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c,{title:"店家資訊"},{button:(0,n.w5)((function(){return[(0,n.Wm)(l,{to:{name:"admin-store_info-create"}},{default:(0,n.w5)((function(){return[(0,n.Wm)(s,{target_text:"店家資訊"})]})),_:1})]})),_:1}),(0,n.Wm)(i,{datas:a.store_infos,keys:a.keys,update_route_name:"admin-store_info-update",class:"mb-5"},null,8,["datas","keys"])],64)}]])},4982:(e,t,r)=>{r.d(t,{Z:()=>O});var n=r(9200),a=function(e){return(0,n.dD)("data-v-7cefd63e"),e=e(),(0,n.Cn)(),e},o={class:"w-full"},u={class:"admin_table overflow-x-auto"},s={class:"text-center table-auto bg-white border-gray-900 break-words w-full whitespace-nowrap"},l={class:"border-b border-gray-100"},c={class:"divide-x divide-gray-100"},i=a((function(){return(0,n._)("th",{class:"py-2 px-3 w-6"},"#",-1)})),p=a((function(){return(0,n._)("th",{class:"py-2 px-3"},"操作",-1)})),d={class:"divide-y divide-gray-200"},f={class:"py-2"},g={class:"w-20"},v={class:"flex justify-center px-1"},y={class:"text-red-500"},_=["value"],m=[a((function(){return(0,n._)("option",{value:"10"},"10",-1)})),a((function(){return(0,n._)("option",{value:"20"},"20",-1)})),a((function(){return(0,n._)("option",{value:"50"},"50",-1)}))];var w=r(6252),b=r(2262),h={class:"border-t border-gray-100 bg-white text-center"},x={class:"grid grid-cols-6 gap-4"},k={class:"py-4 pl-2 col-span-3"},P={class:"grid gap-2 grid-flow-col items-center justify-center"},S={class:"py-4 col-span-2 flex items-center justify-center"},W=(0,n.Uk)(" 每頁顯示 "),C=(0,n.Uk)(" 筆 "),Z={class:"py-4 flex items-center justify-center"};const F={components:{SvgRenderVue:r(7306).Z},props:{total_pages:{type:Number,default:0},current_page:{type:Number,default:0},toFirstPage:{type:Function,default:function(){}},toPreviousPage:{type:Function,default:function(){}},toLastPage:{type:Function,default:function(){}},toNextPage:{type:Function,default:function(){}}},setup:function(e){return{props:e}}};var D=r(3744);const I=(0,D.Z)(F,[["render",function(e,t,r,a,o,u){var s=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",x,[(0,n._)("div",k,[(0,n._)("div",P,[(0,n.Wm)(s,{type:"arrows_left",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":0!==a.props.current_page,"hover:cursor-not-allowed  text-gray-500":0===a.props.current_page}),onClick:a.props.toFirstPage},null,8,["class","onClick"]),(0,n.Wm)(s,{type:"arrow_left",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":0!==a.props.current_page,"hover:cursor-not-allowed text-gray-500":0===a.props.current_page}),onClick:a.props.toPreviousPage},null,8,["class","onClick"]),(0,n.WI)(e.$slots,"page_control"),(0,n.Wm)(s,{type:"arrow_right",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":a.props.current_page!==a.props.total_pages-1,"hover:cursor-not-allowed  text-gray-500":a.props.current_page===a.props.total_pages-1}),onClick:a.props.toNextPage},null,8,["class","onClick"]),(0,n.Wm)(s,{type:"arrows_right",size:"lg",class:(0,n.C_)({" hover:cursor-pointer":a.props.current_page!==a.props.total_pages-1,"hover:cursor-not-allowed  text-gray-500":a.props.current_page===a.props.total_pages-1}),onClick:a.props.toLastPage},null,8,["class","onClick"])])]),(0,n._)("div",S,[W,(0,n.WI)(e.$slots,"per_control"),C]),(0,n._)("div",Z,"共"+(0,n.zw)(a.props.total_pages)+"頁",1)])])}]]);var T=r(1067),j=r(3400);const H={components:{ImagePreview:j.Z},props:{data_type:{type:String,default:""},data:{type:[String,Number],default:""}},setup:function(e){var t=(0,b.BK)(e),r=t.data;switch(t.data_type.value){case"boolean":return function(){return(0,w.h)((0,w.up)("svg-render-vue"),{type:r.value?"circle_check":"x_mark",class:r.value?"text-green-500":"text-red-500"})};case"image":return function(){return r.value?(0,w.h)((0,w.up)("image-preview"),{src:r.value}):(0,w.h)("span",r.value||"--")};default:return function(){return(0,w.h)("span",r.value||"--")}}}};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}const K={props:{keys:{type:Array,default:function(){return[]}},header_columns:{type:Array,default:function(){return[]}}},setup:function(e){var t=(0,b.BK)(e);return{keys:t.keys,header_columns:t.header_columns,TITLE:T.R}}},L=(0,D.Z)(K,[["render",function(e,t,r,a,o,u){return a.header_columns.length?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(a.header_columns,(function(e){return(0,n.wg)(),(0,n.iD)("th",{key:e,class:"py-2 px-1"},(0,n.zw)(e),1)})),128)):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(a.keys,(function(e){return(0,n.wg)(),(0,n.iD)("th",{key:e,class:"py-2 px-1"},(0,n.zw)("object"===z(e)?a.TITLE[e.name]:a.TITLE[e]),1)})),128))}]]);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}const Y={components:{TableFootVue:I,ImagePreview:j.Z,TableColumn:H,TableHeader:L},props:{column_heads:{type:Array,default:function(){return[]}},datas:{type:Object,default:function(){return{}}},keys:{type:Array,default:function(){return[]}},update_route_name:{type:String,default:""}},setup:function(e){var t=e.column_heads,r=e.keys,n=e.update_route_name,a=(0,w.Fl)((function(){return e.datas})),o=(0,w.Fl)((function(){return Object.prototype.toString.call(a.value)})),u=(0,w.Fl)((function(){return"[object Object]"===o.value?Object.values(a.value):a.value})),s=(0,b.iH)(0),l=(0,b.iH)(10),c=(0,w.Fl)((function(){return Math.ceil(u.value.length/l.value)})),i=(0,w.Fl)((function(){var e=0+s.value*l.value,t=e+l.value;return u.value.slice(e,t)}));(0,w.YP)(l,(function(){s.value=s.value>=c.value?c.value-1:s.value}));var p=(0,w.Fl)((function(){var e=Math.floor(60/r.value.length);return" max-w-[".concat(e,"rem]")}));return{TITLE:T.R,header_columns:t,keys:r,datas:i,current_page:s,total_pages:c,per:l,toFirstPage:function(){s.value=0},toPreviousPage:function(){s.value=0===s.value?0:s.value-1},toLastPage:function(){s.value=c.value-1},toNextPage:function(){s.value=s.value===c.value-1?s.value:s.value+1},update_route_name:n,td_max_width:p,getKey:function(e){return"object"===N(e)?e.name:e},getDataType:function(e){return e.type||"string"}}}};var A=r(3379),$=r.n(A),M=r(5722),V={insert:"head",singleton:!1};$()(M.Z,V);M.Z.locals;const O=(0,D.Z)(Y,[["render",function(e,t,r,a,w,b){var h=(0,n.up)("TableHeader"),x=(0,n.up)("TableColumn"),k=(0,n.up)("svg-render-vue"),P=(0,n.up)("router-link"),S=(0,n.up)("table-foot-vue");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n._)("table",s,[(0,n._)("thead",l,[(0,n._)("tr",c,[i,(0,n.Wm)(h,{keys:a.keys,header_columns:a.header_columns},null,8,["keys","header_columns"]),p])]),(0,n._)("tbody",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.datas,(function(t,r){return(0,n.wg)(),(0,n.iD)("tr",{key:t.id,class:(0,n.C_)(["divide-x divide-gray-200",{"bg-gray-100":t.id%2==1}])},[(0,n._)("td",f,(0,n.zw)(r+1),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.keys,(function(r){return(0,n.wg)(),(0,n.iD)("td",{key:a.getKey(r),class:"\\ py-2 px-1 overflow-hidden text-ellipsis whitespace-nowrap max-w-[15rem]"},[(0,n.WI)(e.$slots,"column",{data:t[a.getKey(r)],dataKey:r},(function(){return[(0,n.Wm)(x,{data:t[a.getKey(r)],data_type:a.getDataType(r)},null,8,["data","data_type"])]}),!0)])})),128)),(0,n.WI)(e.$slots,"other_tbody",{data:t},void 0,!0),(0,n.WI)(e.$slots,"action",{data:t},(function(){return[(0,n._)("td",g,[(0,n._)("div",v,[a.update_route_name?((0,n.wg)(),(0,n.j4)(P,{key:0,to:{name:a.update_route_name,params:{info:JSON.stringify(t)}},class:"mr-1 md:mr-3 text-blue-500"},{default:(0,n.w5)((function(){return[(0,n.Wm)(k,{type:"edit"})]})),_:2},1032,["to"])):(0,n.kq)("",!0),(0,n._)("div",y,[(0,n.Wm)(k,{type:"delete"})])])])]}),!0)],2)})),128))])])]),(0,n.Wm)(S,{total_pages:a.total_pages,current_page:a.current_page,toFirstPage:a.toFirstPage,toLastPage:a.toLastPage,toNextPage:a.toNextPage,toPreviousPage:a.toPreviousPage},{page_control:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.current_page=e}),class:"appearance-none px-3 py-1 hover:cursor-pointer"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.total_pages,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e,value:e-1},(0,n.zw)(e),9,_)})),128))],512),[[n.bM,a.current_page]])]})),per_control:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.per=e})},m,512),[[n.bM,a.per]])]})),_:1},8,["total_pages","current_page","toFirstPage","toLastPage","toNextPage","toPreviousPage"])])}],["__scopeId","data-v-7cefd63e"]])},3400:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(9200),a={class:"w-[70vw] lg:w-[80vw] h-[70vh] bg-white rounded-lg p-3 relative"},o={class:"h-full flex items-center justify-center"},u=["src"];var s=r(2262),l=r(4825),c=r(8245),i=r(6252);const p={components:{InMask:c.Z,PreviewButton:l.Z},props:{src:{type:String||Array,default:""}},setup:function(e){var t=(0,i.Fl)((function(){return e.src})),r=(0,s.iH)(!1);return{src:t,toggle:r,toggleShowPreview:function(){r.value=!r.value}}}};const d=(0,r(3744).Z)(p,[["render",function(e,t,r,s,l,c){var i=(0,n.up)("preview-button"),p=(0,n.up)("svg-render-vue"),d=(0,n.up)("InMask");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i,{onClick:s.toggleShowPreview},null,8,["onClick"]),(0,n.wy)((0,n.Wm)(d,{class:"!fixed"},{default:(0,n.w5)((function(){return[(0,n._)("div",a,[(0,n._)("div",{class:"p-2 m-3 hover:cursor-pointer absolute top-0 left-0",onClick:t[0]||(t[0]=function(){return s.toggleShowPreview&&s.toggleShowPreview.apply(s,arguments)})},[(0,n.Wm)(p,{type:"return",class:"text-blue-500"})]),(0,n._)("div",o,[(0,n._)("img",{src:s.src,class:"max-w-[300px] md:max-w-[400px] lg:max-w-[500px] max-h-[90%]"},null,8,u)])])]})),_:1},512),[[n.F8,s.toggle]])],64)}]])},2792:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(9200),a={class:"bg-blue-500 hover:bg-blue-400 hover:cursor-pointer text-white"};const o={props:{target_text:{type:String,default:""}},setup:function(e){return{target_text:e.target_text}}};const u=(0,r(3744).Z)(o,[["render",function(e,t,r,o,u,s){var l=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("button",a,[(0,n.Wm)(l,{type:"plus",class:"mr-1"}),(0,n._)("span",null,"新增"+(0,n.zw)(o.target_text),1)])}]])},4825:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(9200),a={class:"bg-slate-200 hover:bg-slate-300"},o=(0,n._)("span",null,"預覽",-1);const u={};const s=(0,r(3744).Z)(u,[["render",function(e,t,r,u,s,l){var c=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("button",a,[(0,n.Wm)(c,{type:"preview",class:"mr-1"}),o])}]])},1080:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(9200),a={class:"flex items-center justify-between"},o={class:"grid grid-flow-col gap-4"};var u=r(6252),s=r(8637);const l={props:{title:{type:String,default:"管理"},return_to_route_name:{type:String,default:""},py:{type:String,default:""}},setup:function(e){var t=(0,s.oR)().commit,r=e.return_to_route_name,n=e.py;return{title:(0,u.Fl)((function(){return e.title})),return_to_route_name:r,py:n,commit:t}}};const c=(0,r(3744).Z)(l,[["render",function(e,t,r,u,s,l){var c=(0,n.up)("svg-render-vue"),i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",a,[u.return_to_route_name?((0,n.wg)(),(0,n.j4)(i,{key:0,to:{name:u.return_to_route_name},class:"text-blue-500 px-2",onClick:t[0]||(t[0]=function(e){return u.commit("clearStatus")})},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{type:"return",size:"lg"})]})),_:1},8,["to"])):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"return_router"),(0,n._)("div",{class:(0,n.C_)(["flex-auto px-2 py-4 font-bold text-2xl",u.py])},(0,n.zw)(u.title),3),(0,n._)("div",o,[(0,n.WI)(e.$slots,"button")])])}]])}}]);