"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7304],{7304:(t,r,e)=>{e.r(r),e.d(r,{default:()=>O});var n=e(9200),o={class:"grid gap-5"},u=(0,n.Uk)(" 返回訂單列表 "),c={class:"bg-white p-4 border-gray-300-sm flex justify-end items-center gap-4 sticky bottom-0"},s=(0,n.Uk)(" 查無訂單資訊 ");var l=e(7757),a=e.n(l),i=e(2119),p=e(6252),d=e(8637),f=e(8576),b=e(2677),v=e(5260),y=e(7245),g=e(6467);function _(t,r,e,n,o,u,c){try{var s=t[u](c),l=s.value}catch(t){return void e(t)}s.done?r(l):Promise.resolve(l).then(n,o)}function m(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var u=t.apply(r,e);function c(t){_(u,n,o,c,s,"next",t)}function s(t){_(u,n,o,c,s,"throw",t)}c(void 0)}))}}const w={components:{OrderListItem:f.Z,ShoppingHeader:b.Z,ToShoppingButton:v.Z,ReturnButton:y.Z,EmptyContainer:g.Z,ShoppingListItem:(0,p.RC)((function(){return e.e(630).then(e.bind(e,630))})),EvaluateListItem:(0,p.RC)((function(){return e.e(2204).then(e.bind(e,2204))}))},setup:function(t){return m(a().mark((function t(){var r,e,n,o,u,c,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,d.oR)(),e=r.dispatch,n=r.getters,r.state,o=(0,i.yj)(),u=(0,p.Fl)((function(){return o.params.id})),(c=(0,p.Fl)((function(){return n["productHandler/getOrderById"](u.value)}))).value){t.next=7;break}return t.next=7,e("productHandler/getOrders");case 7:return s=function(){var t=m(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("productHandler/shoppingAgain",{order:c.value});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",{order:c,shoppingAgain:s});case 9:case"end":return t.stop()}}),t)})))()}};const O=(0,e(3744).Z)(w,[["render",function(t,r,e,l,a,i){var p=(0,n.up)("RouterLink"),d=(0,n.up)("OrderListItem"),f=(0,n.up)("ShoppingHeader"),b=(0,n.up)("EvaluateListItem"),v=(0,n.up)("ShoppingListItem"),y=(0,n.up)("ToShoppingButton"),g=(0,n.up)("ReturnButton"),_=(0,n.up)("EmptyContainer");return(0,n.wg)(),(0,n.j4)(_,{data:l.order},{emptyText:(0,n.w5)((function(){return[s]})),button:(0,n.w5)((function(){return[(0,n.Wm)(g,{"route-option":{name:"user-orders"}}),(0,n.Wm)(y)]})),default:(0,n.w5)((function(){return[(0,n._)("div",o,[(0,n.Wm)(d,{order:l.order},{link:(0,n.w5)((function(){return[(0,n.Wm)(p,{to:{name:"user-orders"},class:"hover:text-blue-500"},{default:(0,n.w5)((function(){return[u]})),_:1})]})),_:1},8,["order"]),4===l.order.status?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Wm)(f,{"grid-cols-class":"grid-cols-5 md:grid-cols-9"},{default:(0,n.w5)((function(t){var r=t.style;return[(0,n._)("div",{class:(0,n.C_)([r,"col-span-1"])},"商品評價",2)]})),_:1}),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.order.products,(function(t){return(0,n.wg)(),(0,n.j4)(b,{key:t.id,product:t},null,8,["product"])})),128))])],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(f),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.order.products,(function(t){return(0,n.wg)(),(0,n.j4)(v,{key:t.id,product:t},null,8,["product"])})),128))])],64)),(0,n._)("div",c,[(0,n.Wm)(y,{"button-class":"px-12 py-3"}),(0,n._)("button",{class:"bg-blue-500 hover:bg-blue-400 text-white px-12 py-3",onClick:r[0]||(r[0]=function(){return l.shoppingAgain&&l.shoppingAgain.apply(l,arguments)})}," 再買一次 ")])])]})),_:1},8,["data"])}]])},6467:(t,r,e)=>{e.d(r,{Z:()=>y});var n=e(9200);var o=e(2262),u={class:"text-center flex flex-col gap-3 justify-center items-center py-10"},c={class:"max-w-[10rem] min-h-[10rem]"},s=(0,n._)("img",{src:"/pictures/empty.png",alt:"空圖示"},null,-1),l={class:"font-bold"},a=(0,n.Uk)("這裡甚麼都沒有"),i={class:"flex gap-3 font-bold"};const p={};var d=e(3744);const f=(0,d.Z)(p,[["render",function(t,r,e,o,p,d){return(0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",c,[(0,n.WI)(t.$slots,"image",{},(function(){return[s]}))]),(0,n._)("div",l,[(0,n.WI)(t.$slots,"default",{},(function(){return[a]}))]),(0,n._)("div",i,[(0,n.WI)(t.$slots,"button")])])}]]);var b=e(6252);const v={components:{EmptyItem:f},props:{data:{type:void 0,default:""}},setup:function(t){var r=(0,o.BK)(t).data,e=(0,b.Fl)((function(){return Object.prototype.toString.call(r.value)})),n=(0,b.Fl)((function(){switch(e.value){case"[object Array]":return 0===r.value.length;case"[object Object]":return 0===Object.keys(r.value).length;default:return!r.value}}));return{data:r,isNullOrEmpty:n}}},y=(0,d.Z)(v,[["render",function(t,r,e,o,u,c){var s=(0,n.up)("EmptyItem");return(0,n.wg)(),(0,n.iD)("div",null,[o.isNullOrEmpty?((0,n.wg)(),(0,n.j4)(s,{key:0},{button:(0,n.w5)((function(){return[(0,n.WI)(t.$slots,"button")]})),default:(0,n.w5)((function(){return[(0,n.WI)(t.$slots,"emptyText")]})),_:3})):(0,n.WI)(t.$slots,"default",{key:1})])}]])},7245:(t,r,e)=>{e.d(r,{Z:()=>i});var n=e(9200),o={class:"bg-blue-500 text-white font-bold hover:bg-blue-400"},u=(0,n.Uk)("返回");var c=e(2262);function s(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function l(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const a={props:{routeOption:{type:Object,default:function(){}}},setup:function(t){return function(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?s(Object(e),!0).forEach((function(r){l(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}({},(0,c.BK)(t))}};const i=(0,e(3744).Z)(a,[["render",function(t,r,e,c,s,l){var a=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.j4)(a,{to:e.routeOption},{default:(0,n.w5)((function(){return[(0,n._)("button",o,[(0,n.WI)(t.$slots,"default",{},(function(){return[u]}))])]})),_:3},8,["to"])}]])},5260:(t,r,e)=>{e.d(r,{Z:()=>l});var n=e(9200),o=(0,n.Uk)("前往購物");var u=e(6252),c=e(8637);const s={props:{category:{type:String,default:""},buttonClass:{type:String,default:""}},setup:function(t){var r=(0,c.oR)().getters,e=(0,u.Fl)((function(){return r["globalHandler/first_category"]}));return{category:(0,u.Fl)((function(){return t.category||e.value})),buttonClass:(0,u.Fl)((function(){return t.buttonClass}))}}};const l=(0,e(3744).Z)(s,[["render",function(t,r,e,u,c,s){var l=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.j4)(l,{to:"/products/".concat(u.category)},{default:(0,n.w5)((function(){return[(0,n._)("button",{class:(0,n.C_)(["bg-yellow-500 font-bold hover:bg-yellow-400",u.buttonClass])},[(0,n.WI)(t.$slots,"default",{},(function(){return[o]}))],2)]})),_:3},8,["to"])}]])},9346:(t,r,e)=>{e.d(r,{Z:()=>p});var n=e(9200),o={class:"text-orange-500 font-bold"};var u=e(2262),c=e(8637);function s(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?s(Object(e),!0).forEach((function(r){a(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const i={props:{price:{type:[String,Number],default:0}},setup:function(t){var r=(0,c.oR)().getters;return l(l({},(0,u.BK)(t)),{},{formattedPrice:function(t){return r["productHandler/getFormattedPrice"](t)}})}};const p=(0,e(3744).Z)(i,[["render",function(t,r,e,u,c,s){return(0,n.wg)(),(0,n.iD)("span",o,"NT$"+(0,n.zw)(u.formattedPrice(e.price)),1)}]])},8576:(t,r,e)=>{e.d(r,{Z:()=>B});var n=e(9200),o={class:"p-5 bg-white border-gray-300-sm"},u={class:"pb-3 flex justify-between border-b-2 border-slate-300 font-bold"},c={class:"flex"},s=[(0,n._)("div",{class:"group-hover:-translate-y-1 duration-500"}," 取消訂單 ",-1)],l=[(0,n._)("div",{class:"group-hover:-translate-y-1 duration-500"}," 恢復訂單 ",-1)],a=(0,n.Uk)(" 查看訂單詳情"),i={class:"flex justify-between pt-2"},p=(0,n._)("td",{class:"py-2.5 font-bold"},"訂單編號",-1),d={class:"py-2.5 px-5"},f=(0,n._)("td",{class:"py-2.5 font-bold"},"訂單時間",-1),b={class:"py-2.5 px-5"},v=(0,n._)("td",{class:"py-2.5 font-bold"},"收件人",-1),y={class:"py-2.5 px-5"},g=(0,n._)("td",{class:"py-2.5 font-bold"},"電話",-1),_={class:"py-2.5 px-5"},m=(0,n._)("td",{class:"py-2.5 font-bold"},"配送方式",-1),w={class:"py-2.5 px-5"},O=(0,n._)("td",{class:"py-2.5 font-bold"},"地址",-1),h={class:"py-2.5 px-5"},j={class:"mt-auto"},x=(0,n._)("td",{class:"font-bold py-2.5 text-right"},"商品價格",-1),k={class:"py-2.5 px-5"},P=(0,n._)("td",{class:"font-bold py-2.5 text-right"},"運費",-1),C={class:"py-2.5 px-5"},D=(0,n._)("td",{class:"font-bold py-2.5 text-right"},"總計",-1),W={class:"py-2.5 px-5"};var Z=e(7757),I=e.n(Z),S=e(2262),H=e(6252),E=e(8637);function F(t,r,e,n,o,u,c){try{var s=t[u](c),l=s.value}catch(t){return void e(t)}s.done?r(l):Promise.resolve(l).then(n,o)}function R(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var u=t.apply(r,e);function c(t){F(u,n,o,c,s,"next",t)}function s(t){F(u,n,o,c,s,"throw",t)}c(void 0)}))}}const $={components:{FormattedPrice:e(9346).Z},props:{order:{type:Object,default:function(){return{}}}},setup:function(t){var r=(0,S.BK)(t).order,e=(0,E.oR)(),n=e.state,o=e.dispatch,u=(0,H.Fl)((function(){return n.productHandler.status})),c=(0,H.Fl)((function(){return u.value[r.value.status]})),s=(0,H.Fl)((function(){return n.productHandler.delivery_options})),l=(0,H.Fl)((function(){return n.productHandler.pay_method_options})),a=function(){var t=R(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("productHandler/cancelOrder",{order:r.value});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=R(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("productHandler/recoverOrder",{order:r.value});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{order:r,status:u,delivery_options:s,pay_method_options:l,cancelOrder:a,recoverOrder:i,cur_status:c}}};const B=(0,e(3744).Z)($,[["render",function(t,r,e,Z,I,S){var H=(0,n.up)("svg-render-vue"),E=(0,n.up)("router-link"),F=(0,n.up)("FormattedPrice");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n._)("div",c,[(0,n._)("div",{class:(0,n.C_)(["mr-3 ",Z.cur_status.color])},(0,n.zw)(Z.cur_status.label),3),Z.cur_status.cancelable?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:r[0]||(r[0]=function(){return Z.cancelOrder&&Z.cancelOrder.apply(Z,arguments)}),class:"group px-3 border-l border-slate-300 text-red-500 hover:cursor-pointer"},s)):(0,n.kq)("",!0),Z.cur_status.recoverable?((0,n.wg)(),(0,n.iD)("div",{key:1,onClick:r[1]||(r[1]=function(){return Z.recoverOrder&&Z.recoverOrder.apply(Z,arguments)}),class:"group px-3 border-l border-slate-300 text-blue-500 hover:cursor-pointer"},l)):(0,n.kq)("",!0)]),(0,n.WI)(t.$slots,"link",{},(function(){return[(0,n.Wm)(E,{to:{path:"orders/".concat(Z.order.id)},class:"hover:cursor-pointer hover:text-blue-500"},{default:(0,n.w5)((function(){return[a,(0,n.Wm)(H,{type:"arrow_right",class:"ml-2"})]})),_:1},8,["to"])]}))]),(0,n._)("div",i,[(0,n._)("table",null,[(0,n._)("tr",null,[p,(0,n._)("td",d,(0,n.zw)(Z.order.id),1)]),(0,n._)("tr",null,[f,(0,n._)("td",b,(0,n.zw)(Z.order.updated_time),1)]),(0,n._)("tr",null,[v,(0,n._)("td",y,(0,n.zw)(Z.order.name),1)]),(0,n._)("tr",null,[g,(0,n._)("td",_,(0,n.zw)(Z.order.phone),1)]),(0,n._)("tr",null,[m,(0,n._)("td",w,(0,n.zw)(Z.delivery_options[Z.order.delivery_method].label),1)]),(0,n._)("tr",null,[O,(0,n._)("td",h,(0,n.zw)(Z.order.address),1)])]),(0,n._)("table",j,[(0,n._)("tr",null,[x,(0,n._)("td",k,[(0,n.Wm)(F,{price:Z.order.product_price},null,8,["price"])])]),(0,n._)("tr",null,[P,(0,n._)("td",C,[(0,n.Wm)(F,{price:Z.order.delivery_fee},null,8,["price"])])]),(0,n._)("tr",null,[D,(0,n._)("td",W,[(0,n.Wm)(F,{price:Z.order.total_price},null,8,["price"])])])])])])}]])},2677:(t,r,e)=>{e.d(r,{Z:()=>l});var n=e(9200);var o=e(2262);function u(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function c(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const s={props:{gridColsClass:{type:String,default:"grid-cols-4 md:grid-cols-8"},colClass:{type:String,default:"py-1.5"}},setup:function(t){return function(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?u(Object(e),!0).forEach((function(r){c(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}({},(0,o.BK)(t))}};const l=(0,e(3744).Z)(s,[["render",function(t,r,e,o,u,c){return(0,n.wg)(),(0,n.iD)("div",{class:(0,n.C_)(["bg-white grid p-2 border-gray-300-sm  text-center font-bold",e.gridColsClass])},[(0,n._)("div",{class:(0,n.C_)([e.colClass,"col-span-1 md:col-span-4"])},"商品",2),(0,n._)("div",{class:(0,n.C_)([e.colClass,"col-span-1"])},"單價",2),(0,n._)("div",{class:(0,n.C_)([e.colClass,"col-span-1 md:col-span-2"])},"數量",2),(0,n._)("div",{class:(0,n.C_)([e.colClass,"col-span-1"])},"小計",2),(0,n.WI)(t.$slots,"default",{style:(0,n.j5)(e.colClass)})],2)}]])}}]);