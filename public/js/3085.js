"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3085],{4080:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),u=n.n(r)()((function(e){return e[1]}));u.push([e.id,".appear-left-enter-active[data-v-042c321a]{transition:opacity 1s,transform .5s}.appear-left-leave-active[data-v-042c321a]{transition:opacity .1s linear,transform .2s linear}.appear-left-enter-from[data-v-042c321a]{opacity:0;transform:translateX(-20px)}.appear-left-leave-to[data-v-042c321a]{opacity:0;transform:translateX(15px)}.appear-left-enter-to[data-v-042c321a],.appear-left-leave-from[data-v-042c321a]{opacity:1;transform:translateX(0)}",""]);const a=u},9181:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),u=n.n(r)()((function(e){return e[1]}));u.push([e.id,".router-link-exact-active[data-v-30034ce8]{color:#06b6d4}",""]);const a=u},9609:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),u=n.n(r)()((function(e){return e[1]}));u.push([e.id,".title-enter-active,.title-leave-active{transition:all 1s}.title-enter-from,.title-leave-to{opacity:0;transform:translateX(-50%)}",""]);const a=u},6061:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(3645),u=n.n(r)()((function(e){return e[1]}));u.push([e.id,".router-link-active[data-v-4067eb84]{color:#9333ea}",""]);const a=u},3085:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(9200),u={class:"user flex gap-5 py-5 px-6"},a={class:"w-full px-2 text-center absolute bottom-0 mb-4 font-bold"},o=[(0,r.Uk)(" 修改密碼 ")],l=[(0,r.Uk)(" 登出 ")];var i=n(7757),c=n.n(i),s=n(2262),v=n(6252),p=n(2119),f=n(8637),d=n(229),h=n(2257),m=n(8245);function y(e,t,n,r,u,a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,u)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){y(a,r,u,o,l,"next",e)}function l(e){y(a,r,u,o,l,"throw",e)}o(void 0)}))}}const _={components:{MenuContainer:d.Z,MenuItem:h.Z,InMask:m.Z,UpdatePassword:(0,v.RC)((function(){return n.e(9375).then(n.bind(n,9375))}))},setup:function(){return g(c().mark((function e(){var t,n,r,u,a,o,l,i,d,h,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.yj)(),n=(0,p.tv)(),r=(0,f.oR)(),u=r.state,a=r.dispatch,o=(0,s.iH)(!1),l=(0,v.Fl)((function(){return"user"===t.name})),i=(0,v.Fl)((function(){return u.user_info.name})),d=[{route_name:"user-profile",text:"個人資料"},{route_name:"user-orders",text:"訂單查詢"},{route_name:"user-article_collection",text:"文章收藏"}],h=function(){var e=g(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a("userHandler/logout").then((function(){u.is_login||n.push({name:"user-login"})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(0,v.bv)((function(){console.log("user onMounted"),setTimeout((function(){o.value=!0}),300)})),e.next=11,Promise.all([a("productHandler/getOrders"),a("articleHandler/getCollectedArticles")]);case 11:return m=(0,s.iH)(),e.abrupt("return",{show:o,is_now_user:l,username:i,user_menu_lists:d,handleLogout:h,editPassword:m});case 13:case"end":return e.stop()}}),e)})))()}};const w=(0,n(3744).Z)(_,[["render",function(e,t,n,i,c,s){var v=(0,r.up)("MenuItem"),p=(0,r.up)("MenuContainer"),f=(0,r.up)("RouterView"),d=(0,r.up)("UpdatePassword"),h=(0,r.Q2)("hover");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(r.uT,{name:"fade"},{default:(0,r.w5)((function(){return[(0,r._)("div",{class:(0,r.C_)([{"hidden md:block":!i.is_now_user},"bg-white w-full md:w-[18%] "])},[i.show?((0,r.wg)(),(0,r.j4)(p,{key:0,top:"top-20",enable_collapse:!1,title:i.username||"顧客",class:"h-[360px] md:h-full md:max-h-[461px] text-black text-center"},{menu_item:(0,r.w5)((function(e){var n=e.collapse_menu;return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.user_menu_lists,(function(e){return(0,r.wg)(),(0,r.j4)(v,{key:e.text,item:e,collapse:n},null,8,["item","collapse"])})),128)),(0,r._)("div",a,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{class:"border border-slate-300 rounded-sm py-1 duration-300 mb-4",onClick:t[0]||(t[0]=function(e){return i.editPassword.toggleShow()})},o)),[[h,"hover:cursor-pointer hover:bg-blue-500"]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{class:"border border-slate-300 rounded-sm py-1 duration-300",onClick:t[1]||(t[1]=function(){return i.handleLogout&&i.handleLogout.apply(i,arguments)})},l)),[[h,"hover:cursor-pointer hover:bg-red-500 hover:border-red-500"]])])]})),_:1},8,["title"])):(0,r.kq)("",!0)],2)]})),_:1}),(0,r._)("div",{class:(0,r.C_)(["w-full min-h-[80vh] relative",{"hidden md:flex":i.is_now_user}])},[(0,r.Wm)(f,null,{default:(0,r.w5)((function(e){var t=e.Component;return[(0,r.Wm)(r.uT,{name:"fade-from-bottom-15px",mode:"out-in"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.j4)(r.Ob,null,[(0,r.wy)(((0,r.wg)(),(0,r.j4)((0,r.LL)(t),null,null,512)),[[r.F8,i.show]])],1024))]})),_:2},1024)]})),_:1}),(0,r.Wm)(d,{ref:"editPassword"},null,512)],2)])}]])},229:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(9200),u={key:1,class:"py-3 h-12 flex-cc font-bold"};var a=n(2262),o=n(6252);const l={name:"MenuContainer",props:{top:{type:String,default:"top-0"},title:{type:String,default:""},enable_collapse:{type:Boolean,default:!0},menu_tree:{type:[Object,Array],default:function(){return[]||0}}},setup:function(e){var t=(0,a.BK)(e),n=t.enable_collapse,r=t.title,u=t.top,l=(0,a.iH)(n.value);(0,o.JJ)("collapse",l);var i=(0,o.Fl)((function(){return n.value?l.value?"w-[4.5rem]":"w-52":""})),c=(0,a.iH)(!1);(0,o.bv)((function(){setTimeout((function(){c.value=!0}),500)}));var s=(0,a.qj)(e.menu_tree),v=function(e,t){var n=s[e];return t.forEach((function(e){n=n.children[e]})),n},p=function e(t){var n=0;return t.children&&0!==t.height&&(t.children.forEach((function(t){n+=e(t)})),n+=t.height?t.height:0),n};return(0,o.JJ)("setMenuTreeHeight",(function(e,t,n){v(e,t).height=n})),(0,o.JJ)("getMenuHeight",(function(e,t){if(0!==Object.keys(s).length){var n=v(e,t);return p(n)}return 0})),{title:r,enable_collapse:n,collapse_menu:l,show_title:c,getMenuWidth:i,collapseMenu:function(){l.value=!l.value},top:u}}};var i=n(3379),c=n.n(i),s=n(9609),v={insert:"head",singleton:!1};c()(s.Z,v);s.Z.locals;const p=(0,n(3744).Z)(l,[["render",function(e,t,n,a,o,l){var i=(0,r.up)("svg-render-vue");return(0,r.wg)(),(0,r.iD)("div",{id:"menu-container",class:(0,r.C_)(["sticky  duration-700 pt-3",a.top,a.getMenuWidth])},[a.enable_collapse?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"absolute z-10 top-4 -right-4 w-7 h-7 bg-purple-500 rounded-full flex items-center justify-center hover:cursor-pointer",onClick:t[0]||(t[0]=function(){return a.collapseMenu&&a.collapseMenu.apply(a,arguments)})},[(0,r.Wm)(i,{type:"arrow_right",class:(0,r.C_)([{" rotate-180":!a.collapse_menu},"duration-500"])},null,8,["class"])])):(0,r.kq)("",!0),a.title?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(r.uT,{name:"title"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("span",null,(0,r.zw)(a.title),513),[[r.F8,a.show_title]])]})),_:1})])):(0,r.kq)("",!0),(0,r.WI)(e.$slots,"menu_item",{collapse_menu:a.collapse_menu})],2)}]])},2257:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(6252),u=n(2262),a=n(9963);const o={name:"FloatMenuItem",props:{item:{type:Object,default:function(){return{route_name:"",url:"",text:"",svg_name:"",children:[]}}},index:{type:Number,default:0},layer:{type:Number,default:0}},setup:function(e,t){var n=t.slots,o=e.item,l=o.text,i=o.route_name,c=o.url,s=o.svg_name,v=o.children,p=e.index,f=(0,u.iH)(!1),d=(0,r.Fl)((function(){return i?{name:i}:c?{path:c}:""})),h=s?(0,r.h)("div",{class:"pr-2 h-[24px]"},(0,r.h)("div",{class:"w-4"},(0,r.h)((0,r.up)("svg-render-vue"),{type:s}))):null,m=(0,r.h)(a.Transition,{name:"leave-to-left-500"},(function(){return(0,r.h)("span",{class:"whitespace-nowrap font-semibold"},l)})),y=(0,r.Fl)((function(){return v?(0,r.h)((0,r.up)("svg-render-vue"),{type:"arrow_right",class:"absolute right-2 duration-500 ".concat(f.value?"rotate-180":"")}):""})),g=0===p?(0,r.h)("div",{class:"w-3 h-3 rotate-45 bg-zinc-900 absolute -left-1.5 top-3"}):"",_=(0,r.h)("div",{class:"w-[15px] h-[2.5rem] absolute -left-[15px]"});return function(){return(0,r.h)(d.value?(0,r.up)("router-link"):"div",{onmouseover:function(){f.value=!0},onmouseleave:function(){f.value=!1},class:"flex items-center block relative hover:text-cyan-500 hover:cursor-pointer py-2 pl-3 pr-10",to:d},d.value?function(){return[g,_,h,m,y.value,n.float_menu_container({hover:f.value})]}:[g,_,h,m,y.value,n.float_menu_container({hover:f.value})])}}};var l=n(3379),i=n.n(l),c=n(9181),s={insert:"head",singleton:!1};i()(c.Z,s);c.Z.locals;var v=n(3744);const p={name:"FloatMenuContainer",components:{FloatMenuItem:(0,v.Z)(o,[["__scopeId","data-v-30034ce8"]])},props:{lists:{type:Array,default:function(){return[]}},toggleMenu:{type:Function,default:function(){}},layer:{type:Number,default:1},hover:{type:Boolean,default:!0}},setup:function(e){var t=(0,u.iH)(),n=(0,r.Fl)((function(){return e.lists})),o=(0,r.Fl)((function(){return e.toggleMenu})),l=(0,r.Fl)((function(){return e.layer})),i=(0,r.Fl)((function(){return t.value?t.value.clientWidth:0})),c=(0,r.Fl)((function(){return{top:1===l.value?"11px":"0px",right:"-".concat(i.value+15,"px")}})),s=(0,r.Fl)((function(){return n.value.map((function(e,t){return(0,r.h)((0,r.up)("float-menu-item"),{item:e,key:t,index:t,layer:l.value,onClick:function(){l.value<=1&&o.value()}},{float_menu_container:function(t){var n=t.hover;return e.children?(0,r.h)((0,r.up)("float-menu-container"),{layer:l.value+1,lists:e.children,toggleMenu:o.value,hover:n}):""}})}))})),v=(0,r.Fl)((function(){return e.hover}));return function(){return(0,r.h)(a.Transition,{name:"appear-left"},(function(){return v.value?(0,r.h)("div",{id:"layer-".concat(l.value),class:"z-10 bg-zinc-900 absolute rounded text-white divide-y divide-gray-400",style:c.value,ref:t},s.value):""}))}}};var f=n(4080),d={insert:"head",singleton:!1};i()(f.Z,d);f.Z.locals;function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const y={name:"MenuItem",components:{FloatMenuContainer:(0,v.Z)(p,[["__scopeId","data-v-042c321a"]])},props:{item:{type:Object,default:function(){return{route_name:"",url:"",text:"",svg_name:"",children:[]}}},box_py:{type:Number,default:3},text_pl:{type:Number,default:0},position:{type:Array,default:function(){return[]}},tree_root:{type:[String,Number],default:0}},slots:{default:"test"},setup:function(e,t){t.slots;var n=(0,r.f3)("setMenuTreeHeight"),o=(0,r.f3)("getMenuHeight"),l=(0,r.Fl)((function(){return e.item})),i=(0,r.Fl)((function(){return l.value.text})),c=(0,r.Fl)((function(){return l.value.route_name})),s=(0,r.Fl)((function(){return l.value.url})),v=(0,r.Fl)((function(){return l.value.svg_name})),p=(0,r.Fl)((function(){return l.value.children?l.value.children:""})),f=e.box_py,d=e.text_pl,m=e.tree_root,y=e.position,g=(0,r.f3)("collapse"),_=(0,u.iH)(!1),w=(0,u.iH)(!1),b=(0,u.iH)(window.innerWidth);window.addEventListener("resize",(function(){b.value=window.innerWidth}));var x=(0,r.Fl)((function(){var e=d;return b.value>1280||(b.value>1080?e--:e=0),{"padding-left":"".concat(e,"rem")}})),k=(0,r.Fl)((function(){return c.value?{name:c.value}:s.value?{path:s.value}:""})),F=f>1?f-1:1,M=8*F+24,Z=(0,r.Fl)((function(){var e=o(m,y);return _.value?{height:e+"px",overflow:"visible"}:{height:0,opacity:0,overflow:"hidden"}})),C=function(e){var t=M+o(m,e);return _.value?{height:t+"px"}:{height:0,opacity:0}},H=function(){_.value=!_.value,p.value&&n(m,y,_.value?M*(p.value?p.value.length:1):0)},j=v.value?(0,r.h)("div",{class:"pl-6 mr-8 h-[24px]"},(0,r.h)("div",{class:"w-4"},(0,r.h)((0,r.up)("svg-render-vue"),{type:v.value}))):null,I=(0,r.h)(a.Transition,{name:"leave-to-left-500"},(function(){return g.value?"":(0,r.h)("span",{class:"whitespace-nowrap font-semibold",style:x.value},i.value)})),W=(0,r.Fl)((function(){return p.value&&!g.value?(0,r.h)("div",{class:"inline-block absolute right-4 ",style:{top:4*f+"px"}},(0,r.h)((0,r.up)("svg-render-vue"),{type:"arrow_down",class:"duration-500 ".concat(w.value?"-rotate-90":"")})):null})),A=(0,r.Fl)((function(){return p.value?(0,r.h)((0,r.up)("float-menu-container"),{lists:p.value,toggleMenu:H,hover:w.value}):""})),T=(0,r.Fl)((function(){return p.value?(0,r.h)("div",{class:"transition-[height,opacity] duration-500",style:Z.value},p.value.map((function(e,t){return(0,r.h)((0,r.up)("menu-item"),{item:e,box_py:F,text_pl:d+1,class:"transition-[height,opacity] duration-500",style:C([].concat(h(y),[t])),tree_root:m,position:[].concat(h(y),[t])})}))):""})),S=(0,r.Fl)((function(){return(0,r.h)((0,r.up)("router-link"),{class:"".concat(j?"flex":""),to:k.value},(function(){return[j,I]}))})),O=k.value&&p.value||!k.value?"div":(0,r.up)("router-link"),P=(0,r.Fl)((function(){return(0,r.h)(O,{onmouseover:function(){w.value=!0},onmouseleave:function(){w.value=!1},onclick:function(){H()},to:k.value,class:"".concat(j?"flex":""," block relative hover:bg-cyan-200 hover:bg-opacity-30 hover:cursor-pointer py-").concat(f)},k.value?"div"!==O?function(){return[S.value,W.value,A.value]}:[S.value,W.value,A.value]:[j,I,W.value,A.value])}));return function(){return(0,r.h)("div",[P.value,T.value])}}};var g=n(6061),_={insert:"head",singleton:!1};i()(g.Z,_);g.Z.locals;const w=(0,v.Z)(y,[["__scopeId","data-v-4067eb84"]])}}]);