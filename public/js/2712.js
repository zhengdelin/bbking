"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2712],{2712:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var n=r(9200),o={class:"col-span-6 md:col-span-3"},u={key:0,class:"col-span-6 md:col-span-3"},a={key:1,class:"col-span-6 md:col-span-3"};var l=r(4010),i=r(7965),c=r(7736),p=r(5845),s=r(1067),d=r(8637),g=r(6252),f=r(2262),y=r(2119),m=r(5431);const v={components:{AdminInputFormVue:i.Z,InputTextVue:c.Z,InputSelectVue:p.Z,SaveButton:l.Z,TitleItem:m.Z},props:{info:{type:String,default:function(){}}},setup:function(e){var t=(0,d.oR)(),r=t.dispatch,n=t.state,o=(0,y.tv)(),u=(0,g.Fl)((function(){return e.info}));u.value||o.push({name:"admin-categories"});var a=(0,g.Fl)((function(){return n.globalHandler.category_groups})),l=(0,f.iH)();l.value=u.value?JSON.parse(u.value):{};return{TITLE:s.R,category:l,category_groups:a,handleUpdateCategory:function(){r("globalHandler/updateCategory",{data:l.value,type:l.value.category_group_id?"category":"category_group"}).then((function(){"error"!==n.status&&o.push({name:"admin-categories",params:{update_category:!0}})}))},dispatch:r}}};const _=(0,r(3744).Z)(v,[["render",function(e,t,r,l,i,c){var p=(0,n.up)("title-item"),s=(0,n.up)("save-button"),d=(0,n.up)("input-text-vue"),g=(0,n.up)("input-select-vue"),f=(0,n.up)("admin-input-form-vue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(p,{return_to_route_name:"admin-categories",title:"類別 - 編輯類別"}),(0,n.Wm)(p,{title:"類別資訊"},{button:(0,n.w5)((function(){return[(0,n.Wm)(s,{onClick:l.handleUpdateCategory},null,8,["onClick"])]})),_:1}),(0,n.Wm)(f,{class:"mb-2"},{form_items:(0,n.w5)((function(){return[(0,n._)("div",o,[(0,n.Wm)(d,{title:l.TITLE.name,focus:!0,required:!0,modelValue:l.category.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.category.name=e}),onChange:t[1]||(t[1]=function(e){return l.dispatch("globalHandler/checkName",l.category.name)})},null,8,["title","modelValue"])]),l.category.eng_name?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(d,{title:l.TITLE.eng_name,required:!0,modelValue:l.category.eng_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.category.eng_name=e}),onChange:t[3]||(t[3]=function(e){return l.dispatch("globalHandler/checkEngName",l.category.eng_name)})},null,8,["title","modelValue"])])):(0,n.kq)("",!0),l.category.category_group_id?((0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(g,{required:!0,title:l.TITLE.category_group,options:l.category_groups,modelValue:l.category.category_group_id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.category.category_group_id=e})},null,8,["title","options","modelValue"])])):(0,n.kq)("",!0)]})),_:1})],64)}]])},7965:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(9200),o={class:"bg-white rounded-md border-gray-500"},u={class:"p-4"},a={class:"grid grid-cols-6 gap-4 items-center"};const l={components:{},props:{input_cols:{type:Array,default:function(){return[{col_span:"col-span-2",component:"input-text-vue",trim:!0,title:String,model:String,func_call:String,func_datas:Array}]}},data_source:{type:Object||Array,default:function(){return{}||[]}}}};const i=(0,r(3744).Z)(l,[["render",function(e,t,r,l,i,c){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",u,[(0,n._)("div",a,[(0,n.WI)(e.$slots,"form_items")])])])}]])},4010:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(9200),o={class:"bg-blue-500 hover:bg-blue-400 text-white disabled:bg-blue-400"},u=(0,n._)("span",null,"儲存",-1);const a={};const l=(0,r(3744).Z)(a,[["render",function(e,t,r,a,l,i){var c=(0,n.up)("svg-render-vue");return(0,n.wg)(),(0,n.iD)("button",o,[(0,n.Wm)(c,{type:"save",class:"mr-1"}),u])}]])},5845:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(9200),o={class:"font-bold"},u={key:0,class:"text-red-500"},a={class:"w-full py-1 pl-3"},l=["value"],i=["label"],c=["value"];var p=r(2262),s=r(8637),d=r(6252);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m={inheritAttrs:!1,props:{title:{type:String,default:""},required:{type:Boolean,default:!1},option_group:{type:Object||Array,default:function(){return[]||0}},options:{type:[Array,Object],default:function(){return[]}},labelKey:{type:String,default:"name"},valueKey:{type:String,default:"id"},group:{type:Boolean,default:!1}},emits:{"update:modelValue":{type:String,default:""}},setup:function(e,t){var r=t.attrs,n=t.emit,o=((0,s.oR)().dispatch,(0,p.BK)(e).valChangeFun,(0,d.Fl)({get:function(){return r.modelValue},set:function(e){n("update:modelValue",e)}}));return f(f({},(0,p.BK)(e)),{},{modelValue:o})}};const v=(0,r(3744).Z)(m,[["render",function(e,t,r,p,s,d){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",o,[r.required?((0,n.wg)(),(0,n.iD)("span",u,"* ")):(0,n.kq)("",!0),(0,n._)("span",null,(0,n.zw)(r.title),1)]),(0,n._)("div",a,[(0,n.wy)((0,n._)("select",{class:"font-bold w-full border-gray-500 border-opacity-50 border-[1px] border-solid rounded-sm py-1 px-2","onUpdate:modelValue":t[0]||(t[0]=function(e){return p.modelValue=e})},[r.group?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(r.option_group,(function(e,t){return(0,n.wg)(),(0,n.iD)("optgroup",{key:t,label:t},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e[r.valueKey],value:e[r.valueKey]},(0,n.zw)(e[r.labelKey]),9,c)})),128))],8,i)})),128)):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(r.options,(function(e){return(0,n.wg)(),(0,n.iD)("option",{key:e[r.valueKey],value:e[r.valueKey]},(0,n.zw)(e[r.labelKey]),9,l)})),128))],512),[[n.bM,p.modelValue]])])],64)}]])},7736:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(9200),o={class:"font-bold"},u={key:0,class:"text-red-500"},a={class:"font-MicrosoftJhengHei"},l={class:"w-full py-1"},i=["type","value"];var c=r(6252),p=r(2262);const s={inheritAttrs:!1,props:{title:{type:String,default:""},focus:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},isNumber:{type:Boolean,default:!1},required:{type:Boolean,default:!1},type:{type:String,default:"text"}},emits:{"update:modelValue":{type:String,default:""}},setup:function(e,t){var r=t.attrs,n=t.emit,o=(0,p.iH)(),u=e.title,a=e.trim,l=e.focus,i=e.isNumber,s=e.type,d=(0,c.Fl)((function(){return e.required}));return(0,c.bv)((function(){l&&o.value.focus()})),{title:u,attrs:r,required:d,field:o,emitInput:function(e){var t=e.target.value;a&&(t=t.trim()),i&&(t=t.replace(/[^0-9]/gi,"")),n("update:modelValue",t)},type:s}}};const d=(0,r(3744).Z)(s,[["render",function(e,t,r,c,p,s){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",o,[c.required?((0,n.wg)(),(0,n.iD)("span",u,"* ")):(0,n.kq)("",!0),(0,n._)("span",a,(0,n.zw)(c.title),1)]),(0,n._)("div",l,[(0,n._)("input",(0,n.dG)({class:"w-full h-[40px] border-gray-500 border-opacity-50 border-[1px] rounded-sm pl-4",type:c.type||"text"},c.attrs,{ref:"field",value:c.attrs.modelValue,onInput:t[0]||(t[0]=function(){return c.emitInput&&c.emitInput.apply(c,arguments)})}),null,16,i)])])}]])},5431:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(9200),o={class:"flex items-center justify-between"},u={class:"grid grid-flow-col gap-4"};var a=r(6252),l=r(8637);const i={props:{title:{type:String,default:"管理"},return_to_route_name:{type:String,default:""},py:{type:String,default:""}},setup:function(e){var t=(0,l.oR)().commit,r=e.return_to_route_name,n=e.py;return{title:(0,a.Fl)((function(){return e.title})),return_to_route_name:r,py:n,commit:t}}};const c=(0,r(3744).Z)(i,[["render",function(e,t,r,a,l,i){var c=(0,n.up)("svg-render-vue"),p=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[a.return_to_route_name?((0,n.wg)(),(0,n.j4)(p,{key:0,to:{name:a.return_to_route_name},class:"text-blue-500",onClick:t[0]||(t[0]=function(e){return a.commit("clearStatus")})},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{type:"return",size:"lg"})]})),_:1},8,["to"])):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"return_router"),(0,n._)("div",{class:(0,n.C_)(["flex-auto px-2 py-4 font-bold text-2xl",a.py])},(0,n.zw)(a.title),3),(0,n._)("div",u,[(0,n.WI)(e.$slots,"button")])])}]])}}]);